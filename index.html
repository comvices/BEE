<!doctype html>
<html lang="th" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Press By KRUPHRAT</title>
  <script src="https://cdn.tailwindcss.com/3.4.17"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@400;600;700&amp;display=swap" rel="stylesheet">
  <style>
    * { font-family: 'Prompt', sans-serif; }
    
    .circle-btn {
      width: 500px;
      height: 500px;
      border-radius: 50%;
      position: relative;
      cursor: pointer;
      transition: all 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      box-shadow: 
        0 20px 50px rgba(236, 72, 153, 0.4),
        0 10px 30px rgba(59, 130, 246, 0.4),
        inset 0 -12px 25px rgba(0, 0, 0, 0.2),
        inset 0 12px 25px rgba(255, 255, 255, 0.4);
    }
    
    .circle-btn:hover {
      transform: translateY(-12px) scale(1.03);
      box-shadow: 0 40px 80px rgba(236, 72, 153, 0.6), 0 20px 40px rgba(59, 130, 246, 0.6);
    }
    
    .circle-btn:active {
      transform: translateY(4px) scale(0.96);
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    }
    
    .ripple {
      position: absolute;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.8);
      transform: scale(0);
      animation: ripple-effect 0.6s ease-out;
      pointer-events: none;
    }
    
    @keyframes ripple-effect {
      to { transform: scale(4); opacity: 0; }
    }
    
    .pulse-ring {
      position: absolute;
      width: 100%; height: 100%;
      border-radius: 50%;
      border: 4px solid rgba(34, 211, 238, 0.6);
      animation: pulse 2.5s infinite;
    }
    
    @keyframes pulse {
      0% { transform: scale(1); opacity: 0.8; }
      100% { transform: scale(1.5); opacity: 0; }
    }
    
    .click-counter {
      animation: pop 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }
    
    @keyframes pop {
      0% { transform: scale(1); }
      50% { transform: scale(1.4); text-shadow: 0 0 20px #fff; }
      100% { transform: scale(1); }
    }

    .shine {
      position: absolute;
      top: 8%; left: 12%;
      width: 45%; height: 30%;
      background: linear-gradient(135deg, rgba(255,255,255,0.7) 0%, transparent 80%);
      border-radius: 50%;
      pointer-events: none;
    }
  </style>
 </head>
 <body class="h-full">
  <div id="app-container" class="h-full w-full flex flex-col items-center justify-center overflow-auto" style="background: linear-gradient(135deg, #0891b2 0%, #4f46e5 50%, #c026d3 100%);">

    <div class="relative">
      <div class="pulse-ring" style="animation-delay: 0s;"></div>
      <div class="pulse-ring" style="animation-delay: 1s;"></div>
      
      <button id="circle-button" class="circle-btn flex items-center justify-center overflow-hidden" style="background: linear-gradient(145deg, #fb7185 0%, #ec4899 50%, #a855f7 100%);">
          <div class="shine"></div>
      </button>
    </div>

  </div>

  <script>
    // 1. à¸à¸³à¸«à¸™à¸” Link à¹„à¸Ÿà¸¥à¹Œà¹€à¸ªà¸µà¸¢à¸‡à¸ˆà¸²à¸à¸ à¸²à¸¢à¸™à¸­à¸
    // à¸„à¸¸à¸“à¸ªà¸²à¸¡à¸²à¸£à¸–à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™ URL à¹ƒà¸™à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡à¸«à¸¡à¸²à¸¢ ' ' à¹€à¸›à¹‡à¸™ Link à¹„à¸Ÿà¸¥à¹Œà¹€à¸ªà¸µà¸¢à¸‡à¸—à¸µà¹ˆà¸„à¸¸à¸“à¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¹„à¸”à¹‰à¹€à¸¥à¸¢
    const CLICK_SOUND_URL = 'PRESS.wav';
    const clickAudio = new Audio(CLICK_SOUND_URL);

    const defaultConfig = {
      button_text: 'GO!',
      background_color: '#4f46e5',
      button_color: '#ec4899',
      text_color: '#ffffff',
      accent_color: '#fb7185',
      font_family: 'Prompt',
      font_size: 16
    };

    let clickCount = 0;
    const feedbackMessages = ['WOW! ðŸ”¥', 'AMAZING! ðŸš€', 'KEEP GOING! âš¡', 'BOOM! ðŸ’¥', 'FRESH! âœ¨'];

    const circleButton = document.getElementById('circle-button');
    const clickCountEl = document.getElementById('click-count');
    const feedbackEl = document.getElementById('feedback');
    const buttonTextEl = document.getElementById('button-text');

    // à¸Ÿà¸±à¸‡à¸à¹Œà¸Šà¸±à¸™à¹€à¸¥à¹ˆà¸™à¹€à¸ªà¸µà¸¢à¸‡
    function playExternalSound() {
      clickAudio.currentTime = 0; // à¸£à¸µà¹€à¸‹à¹‡à¸•à¹€à¸§à¸¥à¸²à¹€à¸›à¹‡à¸™ 0 à¹€à¸žà¸·à¹ˆà¸­à¹ƒà¸«à¹‰à¸à¸”à¸£à¸±à¸§à¹† à¹à¸¥à¹‰à¸§à¹€à¸ªà¸µà¸¢à¸‡à¸­à¸­à¸à¸—à¸¸à¸à¸„à¸£à¸±à¹‰à¸‡
      clickAudio.play().catch(error => {
        console.log("Audio play failed:", error);
      });
    }

    function createRipple(event) {
      const button = event.currentTarget;
      const rect = button.getBoundingClientRect();
      const size = Math.max(rect.width, rect.height);
      const ripple = document.createElement('span');
      ripple.classList.add('ripple');
      ripple.style.width = ripple.style.height = `${size}px`;
      ripple.style.left = `${event.clientX - rect.left - size/2}px`;
      ripple.style.top = `${event.clientY - rect.top - size/2}px`;
      button.appendChild(ripple);
      ripple.addEventListener('animationend', () => ripple.remove());
    }

    function handleClick(event) {
      playExternalSound(); // à¹€à¸¥à¹ˆà¸™à¹€à¸ªà¸µà¸¢à¸‡à¸ˆà¸²à¸à¸ à¸²à¸¢à¸™à¸­à¸
      createRipple(event);
      clickCount++;
      clickCountEl.textContent = clickCount;
      clickCountEl.classList.remove('click-counter');
      void clickCountEl.offsetWidth; 
      clickCountEl.classList.add('click-counter');
      
      const randomMessage = feedbackMessages[Math.floor(Math.random() * feedbackMessages.length)];
      feedbackEl.textContent = randomMessage;
      feedbackEl.style.opacity = '1';
      setTimeout(() => { feedbackEl.style.opacity = '0'; }, 800);
    }

    circleButton.addEventListener('click', handleClick);

    // à¸ªà¹ˆà¸§à¸™à¸‚à¸­à¸‡ Config SDK à¹€à¸”à¸´à¸¡
    async function onConfigChange(config) {
      const bText = config.button_text || defaultConfig.button_text;
      const bgColor = config.background_color || defaultConfig.background_color;
      const btnColor = config.button_color || defaultConfig.button_color;
      const tColor = config.text_color || defaultConfig.text_color;
      const fSize = config.font_size || defaultConfig.font_size;

      buttonTextEl.textContent = bText;
      document.getElementById('app-container').style.background = `linear-gradient(135deg, #0891b2 0%, ${bgColor} 50%, #c026d3 100%)`;
      circleButton.style.background = `linear-gradient(145deg, ${config.accent_color || '#fb7185'} 0%, ${btnColor} 50%, #a855f7 100%)`;
      buttonTextEl.style.color = tColor;
      
      document.body.style.fontFamily = `${config.font_family || 'Prompt'}, sans-serif`;
      buttonTextEl.style.fontSize = `${fSize * 3.5}px`;
    }

    function mapToCapabilities(config) {
      return {
        recolorables: [
          { get: () => config.background_color || defaultConfig.background_color, set: (v) => { config.background_color = v; window.elementSdk.setConfig({ background_color: v }); } },
          { get: () => config.button_color || defaultConfig.button_color, set: (v) => { config.button_color = v; window.elementSdk.setConfig({ button_color: v }); } },
          { get: () => config.text_color || defaultConfig.text_color, set: (v) => { config.text_color = v; window.elementSdk.setConfig({ text_color: v }); } }
        ],
        fontEditable: { get: () => config.font_family || defaultConfig.font_family, set: (v) => { config.font_family = v; window.elementSdk.setConfig({ font_family: v }); } },
        fontSizeable: { get: () => config.font_size || defaultConfig.font_size, set: (v) => { config.font_size = v; window.elementSdk.setConfig({ font_size: v }); } }
      };
    }

    function mapToEditPanelValues(config) {
      return new Map([['button_text', config.button_text || defaultConfig.button_text]]);
    }

    if (window.elementSdk) {
      window.elementSdk.init({ defaultConfig, onConfigChange, mapToCapabilities, mapToEditPanelValues });
    }
  </script>
 </body>
</html>
